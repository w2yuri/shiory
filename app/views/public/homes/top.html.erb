
<div class="container py-3">
    <div class="swiper">
        <div class="swiper-wrapper">
            <% Post.all.sample(5).each do |post| %>
                <div class="swiper-slide position-relative d-flex">
                    <div class="position-absolute swiper__title w-100 py-4 align-self-center text-center"><%= post.title %></div>
                    <div class="position-absolute w-100">
                        <!--投稿に添付された画像を表示-->
                        <%= image_tag post.post_image, class: 'swiper__img' if post.post_image.present? %>
                        <!--投稿画像を持っていない場合は代替の画像を表示-->
                        <%= image_tag 'no_image.jpg', class: 'swiper__img' unless post.post_image.present? %>
                    </div>
                </div>
            <% end %>
        </div>
    </div>
    <section class="wrapper">
        <!--<div class="text-center">-->
        <!--    <span class="blurTrigger">-->
        <!--      <%#= image_tag('top1.png', class: 'image') %>-->
        <!--    </span>-->
        <!--</div>-->
        <div class="content">
            <div class="list mt-4">
                <div class="list-item">
                    <%= image_tag('about_1.jpg', class: 'image') %>
                    <div class="text">
                        <P>名前の由来は「旅のしおり」と「セオリー」を掛け合わせたものです。</P>
                        <P>どちらも旅程やテーマをまとめて整理したり、振り返って次に活かすための改善点を見つけたりと似ている側面があります。</P>
                    </div>
                    <%= link_to about_path, class: 'btn btn-primary btn-rounded', style: 'color: #fFe9a5;' do %>
                      Shioryとは？
                    <% end %>
                </div>
                <div class="list-item">
                    <%= image_tag('about_2.jpg', class: 'image') %>
                    <div class="text">
                        <P>いろんな場所を巡りたいと考えている人も、外出しないで旅行気分を味わいたい人にも。</P>
                        <P>行ってほしい！と感じたお気に入りの場所を紹介したり、
                           行ってみたい！とワクワクするような場所を見つけてみて下さい。</P>
                    </div>
                    <%= link_to about_path, class: 'btn btn-primary btn-rounded', style: 'color: #fFe9a5;' do %>
                      投稿について
                    <% end %>
                </div>
                <div class="list-item">
                    <%= image_tag('about_3.jpg', class: 'image') %>
                    <div class="text">
                        <P>カレンダー機能を使って、「行った日」「行きたい日」を記録することができます。</P>
                        <P>カレンダーは全体公開されないので、気になる投稿を見つけたら予定を立てたり、好きな時に旅の思い出を振り返ってみましょう!</P>
                        <!-- Button trigger modal -->
                        <!--<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">-->
                        <!--  詳細-->
                        <!--</button>-->
                        <!-- Modal -->
                        <!--<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">-->
                        <!--  <div class="modal-dialog">-->
                        <!--    <div class="modal-content">-->
                        <!--      <div class="modal-header">-->
                        <!--        <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>-->
                        <!--        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>-->
                        <!--      </div>-->
                        <!--      <div class="modal-body">-->
                        <!--        ...-->
                        <!--      </div>-->
                        <!--      <div class="modal-footer">-->
                        <!--        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>-->
                        <!--        <button type="button" class="btn btn-primary">Save changes</button>-->
                        <!--      </div>-->
                        <!--    </div>-->
                        <!--  </div>-->
                        <!--</div>-->

                    <!--</div>-->
                    <%= link_to about_path, class: 'btn btn-primary btn-rounded', style: 'color: #fFe9a5;' do %>
                      カレンダー機能について
                    <% end %>
                </div>
            </div>
    </div>
</section>
</div>

<div class="container">
    <div class="inner">

      <div class="box">
        <div class="box__body">
          <h2 class="box__ttl">title1</h2>
          <p class="box__txt">Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem magnam fugiat ea exercitationem placeat illo quia eos recusandae? Inventore quia eveniet nobis doloremque molestias quisquam velit praesentium officia quae id?</p>
          <!--モーダル(仮)-->
            <section class="section">
              <a href="#" class="modal-btn js-modal-open">ここをクリック</a>
              <a href="#" id="modal-link1" class="modal-btn js-modal-open">ここをクリック</a>

              <div id="modal" class="modal-overlay">
                <div class="modal-content">
                  <p class="modal-title">ここはモーダルのなかみです１</p>
                  <p>１</p>
                  <p>この文章はダミーです。文字の大きさ、量、字間、行間等を確認するために入れています。この文章はダミーです。文字の大きさ、量、字間、行間等を確認するために入れています。この文章はダミーです。文字の大きさ、量、字間、行間等を確認するために入れています。この文章はダミーです。</p>
                  <button class="modal-btn js-modal-close">閉じる</button>
                </div>
              </div>
            </section>
        </div>
          <%= image_tag 'about_1.jpg', class: 'box__image' %>
      </div>

      <div class="box reverse">
        <div class="box__body">
          <h2 class="box__ttl">title2</h2>
          <p class="box__txt">Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem magnam fugiat ea exercitationem placeat illo quia eos recusandae? Inventore quia eveniet nobis doloremque molestias quisquam velit praesentium officia quae id?</p>
          <p class="box__txt">Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem magnam fugiat ea exercitationem placeat illo quia eos recusandae? Inventore quia eveniet nobis doloremque molestias quisquam velit praesentium officia quae id?</p>
          <!--モーダル(仮)-->
            <section class="section">
              <a href="#" class="modal-btn js-modal-open">ここをクリック</a>
              <a href="#" id="modal-link1" class="modal-btn js-modal-open">ここをクリック</a>

              <div id="modal" class="modal-overlay">
                <div class="modal-content">
                  <p class="modal-title">ここはモーダルのなかみです２</p>
                  <p>２この文章はダミーです。文字の大きさ、量、字間、行間等を確認するために入れています。</p>
                  <p>この文章はダミーです。文字の大きさ、量、字間、行間等を確認するために入れています。この文章はダミーです。文字の大きさ、量、字間、行間等を確認するために入れています。この文章はダミーです。文字の大きさ、量、字間、行間等を確認するために入れています。この文章はダミーです。</p>
                  <button class="modal-btn js-modal-close">閉じる</button>
                </div>
              </div>
            </section>
        </div>
          <%= image_tag 'about_1.jpg', class: 'box__image' %>
      </div>

      <div class="box">
        <div class="box__body">
          <h2 class="box__ttl">title3</h2>
          <p class="box__txt">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem magnam fugiat ea exercitationem placeat illo quia eos recusandae? Inventore quia eveniet nobis doloremque molestias quisquam velit praesentium officia quae id?
          </p>
          <!--モーダル(仮)-->
            <section class="section">
              <a href="#" class="modal-btn js-modal-open">ここをクリック</a>
              <a href="#" id="modal-link1" class="modal-btn js-modal-open">ここをクリック</a>

              <div id="modal" class="modal-overlay">
                <div class="modal-content">
                  <p class="modal-title">ここはモーダルのなかみです３</p>
                  <p>３この文章はダミーです。文字の大きさ、量、字間、行間等を確認するために入れています。</p>
                  <p>この文章はダミーです。文字の大きさ、量、字間、行間等を確認するために入れています。この文章はダミーです。文字の大きさ、量、字間、行間等を確認するために入れています。この文章はダミーです。文字の大きさ、量、字間、行間等を確認するために入れています。この文章はダミーです。</p>
                  <button class="modal-btn js-modal-close">閉じる</button>
                </div>
              </div>
            </section>
        </div>
          <%= image_tag 'about_1.jpg', class: 'box__image' %>
      </div>
    </div>
</div>


<!-- Button trigger modal -->
<button type="button" class="modal-btn" data-toggle="modal" data-target="#calendar-description">
  About Calendar
</button>

<!-- Modal -->
<div class="modal fade" id="calendar-description" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalCenterTitle">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <div class="row">
              <div class="col-md-6">
                  これは、サンプルテストです。

              </div>
              <div class="col-md-6">
                  <%= image_tag 'about_1.jpg', class: 'img-fluid' %>
              </div>
          </div>
      </div>
    </div>
  </div>
</div>


<script>
// Swiperを実行(初期化)
$(document).ready(function(){
    let swiper = new Swiper('.swiper', {
      loop: true,
      autoplay: {
        delay: 5000,
      },
    });
});

// モーダル
$(document).ready(function() {
    const body = $('body');
    const modal = $('#modal');
    const modalOpenButton = $('.js-modal-open');
    const modalCloseButton = $('.js-modal-close');

    const openModal = () => {
        modal.fadeIn();
        body.css('overflow', 'hidden');
    };

    const closeModal = () => {
        modal.fadeOut();
        body.css('overflow', 'auto');
    };

    const onClickOutside = (event) => {
        if (modal.is(event.target)) closeModal();
    }

    modalOpenButton.on('click', openModal);
    modalCloseButton.on('click', closeModal);
    modal.on('click', onClickOutside);
});
</script>
